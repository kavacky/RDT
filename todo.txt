logic to c
frontend -> win, mac, linux (sux console only)?